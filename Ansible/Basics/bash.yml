---
- hosts: linux
  become: yes
  tasks:
    - name: "Build hosts file"
      lineinfile:
        path: /etc/hosts
        line: "{{ item }}"
      loop:
        - "192.168.1.10 truenas"
        - "192.168.1.12	darling"
        - "192.168.1.13	mandela"
        - "192.168.1.14	turing"

    - name: "Remove old host lines"
      lineinfile:
        path: /etc/hosts
        line: "{{ item }}"
        state: absent
      loop:
        - "192.168.1.10 freenas"

    - name: Bash profile
      copy:
        src: ./.bashrc
        dest: /home/clincha/.bashrc
        owner: clincha
        group: clincha
        mode: 0600

    - name: Bash aliases
      copy:
        src: ./.bash_aliases
        dest: /home/clincha/.bash_aliases
        state: absent